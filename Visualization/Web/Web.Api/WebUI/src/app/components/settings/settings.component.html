<div class="container margin-top-lg">
  <mat-accordion multi="true">
    <mat-expansion-panel [expanded]="true">
      <mat-expansion-panel-header class="header">
        <h5><b>Settings</b></h5>
      </mat-expansion-panel-header>
      <div matExpansionPanelContent>

        <form class="col-md-10" (change)="savePreferences()">
          <div class="form-group">
            <label for="selectScene">Available scenes</label>
            <select id="selectScene" name="selectScene" class="form-control" [(ngModel)]="settings.currentSceneName">
              <option *ngFor="let available of settings.availableScenes" selected>{{available.name}}</option>
            </select>
          </div>

          <hr>
          <h6>Scene preferences:</h6>
          <br />

          <label for="customRange">Vehicle max count: {{settings.scenePreferences.vehicleCountMaximum}}</label>
          <input type="range" class="custom-range" min="10" max="1000" id="customRange" name="vehicleCountMaximum"
            [(ngModel)]="settings.scenePreferences.vehicleCountMaximum">
          <br />

          <label for="customRange2">Vehicle spawn frequency: {{settings.scenePreferences.vehicleSpawnFrequency}}
            [vehicle/s]</label>
          <input type="range" class="custom-range" min="0.1" max="5" step="0.1" id="customRange2"
            name="vehicleSpawnFrequency" [(ngModel)]="settings.scenePreferences.vehicleSpawnFrequency">

          <hr>
          <h6>Route preferences:</h6>
          <br />

          <p class="route-label">Route types / vehicle spawn chance in percents</p>
          <form class="form-group row"
            *ngFor="let spawnOption of settings.scenePreferences.vehicleSpawnChances; let i = index;">

            <label for="spawnOption.routeType" class="col-sm-2 col-form-label">{{spawnOption.routeType}}:</label>
            <input type="number" class="form-control col-sm-2" id="spawnOption.routeType" placeholder="chance %"
              name="chance" [(ngModel)]="spawnOption.spawnChance" min="0" max="100">

          </form>


          <br />
          <button type="submit" class="btn btn-outline-dark" (click)="savePreferences()">Save</button>
        </form>

      </div>
    </mat-expansion-panel>


  </mat-accordion>
</div>